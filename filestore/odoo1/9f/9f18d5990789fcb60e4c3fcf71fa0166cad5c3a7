)]}'
{"version": 3, "sources": ["/web/static/tests/legacy/helpers/test_utils_file.js", "/mail/static/tests/tours/mail_channel_as_guest_tour.js", "/mail/static/tests/tours/mail_full_composer_test_tour.js", "/portal/static/tests/tours/portal.js", "/account/static/tests/tours/account_dashboard_setup_bar_tests.js", "/account/static/tests/tours/tax_group_tests.js", "/sale/static/tests/tours/sale_signature.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/stock/static/tests/tours/stock_report_tests.js", "/point_of_sale/static/tests/tours/Chrome.tour.js", "/point_of_sale/static/tests/tours/PaymentScreen.tour.js", "/point_of_sale/static/tests/tours/ProductConfigurator.tour.js", "/point_of_sale/static/tests/tours/ProductScreen.tour.js", "/point_of_sale/static/tests/tours/ReceiptScreen.tour.js", "/point_of_sale/static/tests/tours/TicketScreen.tour.js", "/point_of_sale/static/tests/tours/helpers/ChromeTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ClientListScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/CompositeTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ErrorPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/NumberPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/PaymentScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ProductConfiguratorTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ProductScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ReceiptScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/SelectionPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/TextAreaPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/TicketScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/utils.js", "/point_of_sale/static/tests/tours/point_of_sale.js", "/project/static/tests/tours/project_sharing_tour.js", "/project/static/tests/tours/project_update_tour_tests.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js"], "mappings": "AAAA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9JA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvHA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/MA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvSA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxLA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzJA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvbA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpHA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzLA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpTA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA", "sourcesContent": ["odoo.define('web.test_utils_file', function () {\n\"use strict\";\n\n/**\n * FILE Test Utils\n *\n * This module defines various utility functions to help simulate events with\n * files, such as drag-and-drop.\n *\n * Note that all methods defined in this module are exported in the main\n * testUtils file.\n */\n\n\n//------------------------------------------------------------------------------\n// Private functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a fake object 'dataTransfer', linked to some files, which is passed to\n * drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction _createFakeDataTransfer(files) {\n    return {\n        dropEffect: 'all',\n        effectAllowed: 'all',\n        files,\n        getData: function () {\n            return files;\n        },\n        items: [],\n        types: ['Files'],\n    };\n}\n\n//------------------------------------------------------------------------------\n// Public functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a file object, which can be used for drag-and-drop.\n *\n * @param {Object} data\n * @param {string} data.name\n * @param {string} data.content\n * @param {string} data.contentType\n * @returns {Promise<Object>} resolved with file created\n */\nfunction createFile(data) {\n    // Note: this is only supported by Chrome, and does not work in Incognito mode\n    return new Promise(function (resolve, reject) {\n        var requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        if (!requestFileSystem) {\n            throw new Error('FileSystem API is not supported');\n        }\n        requestFileSystem(window.TEMPORARY, 1024 * 1024, function (fileSystem) {\n            fileSystem.root.getFile(data.name, { create: true }, function (fileEntry) {\n                fileEntry.createWriter(function (fileWriter) {\n                    fileWriter.onwriteend = function (e) {\n                        fileSystem.root.getFile(data.name, {}, function (fileEntry) {\n                            fileEntry.file(function (file) {\n                                resolve(file);\n                            });\n                        });\n                    };\n                    fileWriter.write(new Blob([ data.content ], { type: data.contentType }));\n                });\n            });\n        });\n    });\n}\n\n/**\n * Drag a file over a DOM element\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dragoverFile($el, file) {\n    var ev = new Event('dragover', { bubbles: true });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(file),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop a file on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dropFile($el, file) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer([file]),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop some files on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object[]} files must have been created beforehand (@see createFile)\n */\nfunction dropFiles($el, files) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(files),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Set files in a file input\n *\n * @param {DOM.Element} el\n * @param {Object[]} files must have been created beforehand\n *   @see testUtils.file.createFile\n */\nfunction inputFiles(el, files) {\n    // could not use _createFakeDataTransfer as el.files assignation will only\n    // work with a real FileList object.\n    const dataTransfer = new window.DataTransfer();\n    for (const file of files) {\n        dataTransfer.items.add(file);\n    }\n    el.files = dataTransfer.files;\n    /**\n     * Changing files programatically is not supposed to trigger the event but\n     * it does in Chrome versions before 73 (which is on runbot), so in that\n     * case there is no need to make a manual dispatch, because it would lead to\n     * the files being added twice.\n     */\n    const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n    if (!chromeVersion || chromeVersion >= 73) {\n        el.dispatchEvent(new Event('change'));\n    }\n}\n\n//------------------------------------------------------------------------------\n// Exposed API\n//------------------------------------------------------------------------------\n\nreturn {\n    createFile: createFile,\n    dragoverFile: dragoverFile,\n    dropFile: dropFile,\n    dropFiles,\n    inputFiles,\n};\n\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\ntour.register('mail/static/tests/tours/mail_channel_as_guest_tour.js', {\n    test: true,\n}, [{\n    content: \"Click join\",\n    trigger: '.o_WelcomeView_joinButton',\n    extraTrigger: '.o_ThreadView',\n}, {\n    content: \"Check that we are on channel page\",\n    trigger: '.o_ThreadView',\n    run() {\n        if (!window.location.pathname.startsWith('/discuss/channel')) {\n            console.error('Clicking on join button did not redirect to channel page');\n        }\n        // Wait for modules to be loaded or failed for the next step\n        odoo.__DEBUG__.didLogInfo.then(() => {\n            const { missing, failed, unloaded } = odoo.__DEBUG__.jsModules;\n            if ([missing, failed, unloaded].some(arr => arr.length)) {\n                console.error(\"Couldn't load all JS modules.\", JSON.stringify({ missing, failed, unloaded }));\n            }\n            document.body.classList.add('o_mail_channel_as_guest_tour_modules_loaded');\n        });\n    },\n    extraTrigger: '.o_mail_channel_as_guest_tour_modules_loaded',\n}, {\n    content: \"Wait for all modules loaded check in previous step\",\n    trigger: '.o_mail_channel_as_guest_tour_modules_loaded',\n}]);\n", "/** @odoo-module **/\n\nimport {\n    createFile,\n    inputFiles,\n} from 'web.test_utils_file';\n\nimport tour from 'web_tour.tour';\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_full_composer.py\n */\ntour.register('mail/static/tests/tours/mail_full_composer_test_tour.js', {\n    test: true,\n}, [{\n    content: \"Click on Send Message\",\n    trigger: '.o_ChatterTopbar_buttonSendMessage',\n}, {\n    content: \"Write something in composer\",\n    trigger: '.o_ComposerTextInput_textarea',\n    run: 'text blahblah',\n}, {\n    content: \"Add one file in composer\",\n    trigger: '.o_Composer_buttonAttachment',\n    async run() {\n        const file = await createFile({\n            content: 'hello, world',\n            contentType: 'text/plain',\n            name: 'text.txt',\n        });\n        inputFiles(\n            document.querySelector('.o_FileUploader_input'),\n            [file]\n        );\n    },\n}, {\n    content: \"Open full composer\",\n    trigger: '.o_Composer_buttonFullComposer',\n    extra_trigger: '.o_AttachmentCard:not(.o-isUploading)' // waiting the attachment to be uploaded\n}, {\n    content: \"Check the earlier provided attachment is listed\",\n    trigger: '.o_AttachmentCard[title=\"text.txt\"]',\n    run() {},\n}, {\n    content: \"Check subject is autofilled\",\n    trigger: 'input[name=\"subject\"]',\n    run() {\n        const subjectValue = document.querySelector('input[name=\"subject\"]').value;\n        if (subjectValue !== \"Re: Test User\") {\n            console.error(\n                `Full composer should have \"Re: Test User\" in subject input (actual: ${subjectValue})`\n            );\n        }\n    },\n}, {\n    content: \"Check composer content is kept\",\n    trigger: '.oe_form_field[name=\"body\"]',\n    run() {\n        const bodyContent = document.querySelector('.oe_form_field[name=\"body\"]').textContent;\n        if (!bodyContent.includes(\"blahblah\")) {\n            console.error(\n                `Full composer should contain text from small composer (\"blahblah\") in body input (actual: ${bodyContent})`\n            );\n        }\n    },\n}, {\n    content: \"Open templates\",\n    trigger: '.o_field_widget[name=\"template_id\"] input',\n}, {\n    content: \"Check a template is listed\",\n    in_modal: false,\n    trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Test template\")',\n    run() {},\n}, {\n    content: \"Send message\",\n    trigger: '.o_mail_send',\n}, {\n    content: \"Check message is shown\",\n    trigger: '.o_Message:contains(\"blahblah\")',\n}, {\n    content: \"Check message contains the attachment\",\n    trigger: '.o_Message .o_AttachmentCard_filename:contains(\"text.txt\")',\n}]);\n", "odoo.define('portal.tour', function (require) {\n'use strict';\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register('portal_load_homepage', {\n    test: true,\n    url: '/my',\n},\n    [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]'\n        }\n    ]\n);\n\n});\n", "odoo.define('account.dashboard.setup.tour', function (require) {\n    \"use strict\";\n\n    var core = require('web.core');\n    var tour = require('web_tour.tour');\n\n    var _t = core._t;\n\n    tour.register('account_render_report', {\n        test: true,\n        url: '/web',\n    }, [tour.stepUtils.showAppsMenuItem(),\n    {\n        id: 'account_menu_click',\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n        position: 'bottom',\n    }, {\n        trigger: '.o_data_row:first',\n        extra_trigger: '.breadcrumb',\n    }, {\n        trigger: '.o_control_panel button:contains(\"' + _t('Print') + '\")',\n    }, {\n        trigger: '.o_control_panel .dropdown-menu a:contains(\"' + _t('Invoices without Payment') + '\")',\n    }, {\n        trigger: 'iframe .o_report_layout_standard h2',\n        content: 'Primary color is correct',\n        run: function () {\n            if (this.$anchor.css('color') !== \"rgb(18, 52, 86)\") {\n                console.error('The primary color should be the one set on the company.');\n            }\n        },\n    }, {\n        trigger: 'iframe .o_report_layout_standard #informations div strong',\n        content: 'Secondary color is correct',\n        run: function () {\n            if (this.$anchor.css('color') !== \"rgb(120, 145, 1)\") {\n                console.error('The secondary color should be the one set on the company.');\n            }\n        },\n    }\n        ]);\n});\n", "/** @odoo-module alias=account.tax.group.tour.tests */\n\"use strict\";\n\nimport tour from 'web_tour.tour';\n\ntour.register('account_tax_group', {\n    test: true,\n    url: \"/web\",\n}, [tour.stepUtils.showAppsMenuItem(),\n    {\n        content: \"Go to Invoicing\",\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n        edition: 'community',\n    },\n    {\n        content: \"Go to Accounting\",\n        trigger: '.o_app[data-menu-xmlid=\"account_accountant.menu_accounting\"]',\n        edition: 'enterprise',\n    },\n    {\n        content: \"Go to Vendors\",\n        trigger: 'a:contains(\"Vendors\")',\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'span:contains(\"Bills\")',\n    },\n    {\n        extra_trigger: '.breadcrumb:contains(\"Bills\")',\n        content: \"Create new bill\",\n        trigger: '.o_list_button_add',\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_many2one[name=\"partner_id\"] div input',\n        run: 'text Azure Interior',\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Azure Interior\")',\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view .o_selected_row .o_list_many2one:first input',\n    },\n    {\n        content: \"Type item\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view .o_selected_row .o_list_many2one:first input',\n        run: \"text Large Desk\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Large Desk\")',\n    },\n    // Save account.move\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    // Edit account.move\n    {\n        content: \"Edit the account move\",\n        trigger: '.o_form_button_edit',\n    },\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: function (actions) {\n            $('.o_tax_group_edit_input input').val(200);\n            $('.o_tax_group_edit_input input').select();\n            $('.o_tax_group_edit_input input').blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"1,499.00\")',\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"]',\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"] input',\n        run: 'text 2',\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"] input',\n        run: function (actions) {\n            let keydownEvent = jQuery.Event('keydown');\n            keydownEvent.which = 13;\n            this.$anchor.trigger(keydownEvent);\n        },\n    },\n    // Save form\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"389.70\")',\n    },\n]);\n", "odoo.define('sale.tour_sale_signature', function (require) {\n'use strict';\n\nvar tour = require('web_tour.tour');\n\n// This tour relies on data created on the Python test.\ntour.register('sale_signature', {\n    test: true,\n    url: '/my/quotes',\n},\n[\n    {\n        content: \"open the test SO\",\n        trigger: 'a:containsExact(\"test SO\")',\n    },\n    {\n        content: \"click sign\",\n        trigger: 'a:contains(\"Sign\")',\n    },\n    {\n        content: \"check submit is disabled\",\n        trigger: '.o_portal_sign_submit:disabled',\n        run: function () {},\n    },\n    {\n        content: \"click Auto\",\n        trigger: '.o_web_sign_auto_button',\n    },\n    {\n        content: \"check submit is enabled\",\n        trigger: '.o_portal_sign_submit:enabled',\n        run: function () {},\n    },\n    {\n        content: \"click select style\",\n        trigger: '.o_web_sign_auto_select_style a',\n    },\n    {\n        content: \"click style 4\",\n        trigger: '.o_web_sign_auto_font_selection a:eq(3)',\n    },\n    {\n        content: \"click submit\",\n        trigger: '.o_portal_sign_submit:enabled',\n    },\n    {\n        content: \"check it's confirmed\",\n        trigger: '#quote_content:contains(\"Thank You\")',\n    },\n]);\n});\n", "/** @odoo-module */\nimport tour from 'web_tour.tour';\nconst today = moment();\n\ntour.register('crm_forecast', {\n    test: true,\n    url: \"/web\",\n}, [\n    tour.stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading'\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \"input[name=name]\",\n        content: \"complete name\",\n        run: \"text Test Opportunity 1\",\n    }, {\n        trigger: \"div[name=expected_revenue] > input\",\n        content: \"complete expected revenue\",\n        run: \"text 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"complete expected closing\",\n        run: `text ${today.format(\"MM/DD/YYYY\")}`,\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: \"body:not(:has(div.bootstrap-datetimepicker-widget))\",\n        content: \"wait for date_picker to disappear\",\n        run: function () {},\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        run: function (actions) {\n            const undefined_groups = $('.o_column_title:contains(\"Undefined\")').length;\n            actions.drag_and_drop(` .o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`, this.$anchor);\n        }\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: `span[name=date_deadline]:contains(\"${moment(today).add(2, 'months').startOf('month').subtract(1, 'days').format(\"MM/DD/YYYY\")}\")`,\n        content: \"edit datetime\",\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"complete expected closing\",\n        run: `text ${moment(today).add(5, 'months').startOf('month').subtract(1, 'days').format(\"MM/DD/YYYY\")}`\n    }, {\n        trigger: \"body:not(:has(div.bootstrap-datetimepicker-widget))\",\n        content: \"wait for date_picker to disappear\",\n        run: function () {},\n    }, {\n        trigger: \"input[name=probability]\",\n        content: \"max out probability\",\n        run: \"text 100\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n        run: function () {},\n    }\n]);\n", "/** @odoo-module **/\n\n    import tour from 'web_tour.tour';\n\n    tour.register('crm_rainbowman', {\n        test: true,\n        url: \"/web\",\n    }, [\n        tour.stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n        }, {\n            trigger: \"input[name=name]\",\n            content: \"complete name\",\n            run: \"text Test Lead 1\",\n        }, {\n            trigger: \"div[name=expected_revenue] > input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999997\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(3) \"\n        }, {\n            trigger: \".o_reward_rainbow\",\n            extra_trigger: \".o_reward_rainbow\",\n            run: function () {} // check rainbowman is properly displayed\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n        }, {\n            trigger: \"input[name=name]\",\n            content: \"complete name\",\n            run: \"text Test Lead 2\",\n        }, {\n            trigger: \"div[name=expected_revenue] > input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999998\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            run: function () {} // wait for the record to be properly created\n        }, {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \"\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n        }, {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n        }, {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"move lead to previous stage & rainbowman appears\",\n        }, {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n        }, {\n            trigger: \".o_menu_brand\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"last rainbowman appears\",\n        }\n    ]);\n", "odoo.define('stock.reports.setup.tour', function (require) {\n    \"use strict\";\n\n    const tour = require('web_tour.tour');\n\n    tour.register('test_stock_route_diagram_report', {\n        test: true,\n    }, [\n    {\n        trigger: '.o_kanban_record',\n        extra_trigger:'.breadcrumb',\n    },\n    {\n        trigger: '.nav-item > a:contains(\"Inventory\")',\n    },\n    {\n        trigger: '.btn[id=\"stock.view_diagram_button\"]',\n    },\n    {\n        trigger: 'iframe .o_report_stock_rule',\n    },\n    ]);\n});\n", "odoo.define('point_of_sale.tour.Chrome', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { ReceiptScreen } = require('point_of_sale.tour.ReceiptScreenTourMethods');\n    const { PaymentScreen } = require('point_of_sale.tour.PaymentScreenTourMethods');\n    const { TicketScreen } = require('point_of_sale.tour.TicketScreenTourMethods');\n    const { Chrome } = require('point_of_sale.tour.ChromeTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    var Tour = require('web_tour.tour');\n\n    startSteps();\n\n    // Order 1 is at Product Screen\n    ProductScreen.do.confirmOpeningPopup();\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.exec.addOrderline('Desk Pad', '1', '2', '2.0');\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.checkStatus('-0001', 'Ongoing');\n\n    // Order 2 is at Payment Screen\n    TicketScreen.do.clickNewTicket();\n    ProductScreen.exec.addOrderline('Monitor Stand', '3', '4', '12.0');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.check.isShown();\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.checkStatus('-0002', 'Payment');\n\n    // Order 3 is at Receipt Screen\n    TicketScreen.do.clickNewTicket();\n    ProductScreen.exec.addOrderline('Whiteboard Pen', '5', '6', '30.0');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.check.remainingIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.isShown();\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.checkStatus('-0003', 'Receipt');\n\n    // Select order 1, should be at Product Screen\n    TicketScreen.do.selectOrder('-0001');\n    ProductScreen.check.productIsDisplayed('Desk Pad');\n    ProductScreen.check.selectedOrderlineHas('Desk Pad', '1.0', '2.0');\n\n    // Select order 2, should be at Payment Screen\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.selectOrder('-0002');\n    PaymentScreen.check.emptyPaymentlines('12.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n\n    // Select order 3, should be at Receipt Screen\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.selectOrder('-0003');\n    ReceiptScreen.check.totalAmountContains('30.0');\n\n    // Pay order 1, with change\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.selectOrder('-0001');\n    ProductScreen.check.isShown();\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('2 0');\n    PaymentScreen.check.remainingIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.totalAmountContains('2.0');\n\n    // Order 1 now should have Receipt status\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.checkStatus('-0001', 'Receipt');\n\n    // Select order 3, should still be at Receipt Screen\n    // and the total amount doesn't change.\n    TicketScreen.do.selectOrder('-0003');\n    ReceiptScreen.check.totalAmountContains('30.0');\n\n    // click next screen on order 3\n    // then delete the new empty order\n    ReceiptScreen.do.clickNextOrder();\n    ProductScreen.check.orderIsEmpty();\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.deleteOrder('-0004');\n    TicketScreen.do.deleteOrder('-0001');\n\n    // After deleting order 1 above, order 2 became\n    // the 2nd-row order and it has payment status\n    TicketScreen.check.nthRowContains(2, 'Payment')\n    TicketScreen.do.deleteOrder('-0002');\n    Chrome.do.confirmPopup();\n    TicketScreen.do.clickNewTicket();\n\n    // Invoice an order\n    ProductScreen.exec.addOrderline('Whiteboard Pen', '5', '6');\n    ProductScreen.do.clickCustomerButton();\n    ProductScreen.do.clickCustomer('Nicole Ford');\n    ProductScreen.do.clickSetCustomer();\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.do.clickInvoiceButton();\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.isShown();\n\n    Tour.register('ChromeTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.PaymentScreen', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { PaymentScreen } = require('point_of_sale.tour.PaymentScreenTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    var Tour = require('web_tour.tour');\n\n    startSteps();\n\n    ProductScreen.exec.addOrderline('Letter Tray', '10');\n    ProductScreen.check.selectedOrderlineHas('Letter Tray', '10.0');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.check.emptyPaymentlines('52.8');\n\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('1 1');\n    PaymentScreen.check.selectedPaymentlineHas('Cash', '11.00');\n    PaymentScreen.check.remainingIs('41.8');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n    // remove the selected paymentline with multiple backspace presses\n    PaymentScreen.do.pressNumpad('Backspace Backspace');\n    PaymentScreen.check.selectedPaymentlineHas('Cash', '0.00');\n    PaymentScreen.do.pressNumpad('Backspace');\n    PaymentScreen.check.emptyPaymentlines('52.8');\n\n    // Pay with bank, the selected line should have full amount\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.check.remainingIs('0.0');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n    // remove the line using the delete button\n    PaymentScreen.do.clickPaymentlineDelButton('Bank', '52.8');\n\n    // Use +10 and +50 to increment the amount of the paymentline\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('+10');\n    PaymentScreen.check.remainingIs('42.8');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n    PaymentScreen.do.pressNumpad('+50');\n    PaymentScreen.check.remainingIs('0.0');\n    PaymentScreen.check.changeIs('7.2');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n    PaymentScreen.do.clickPaymentlineDelButton('Cash', '60.0');\n\n    // Multiple paymentlines\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('1');\n    PaymentScreen.check.remainingIs('51.8');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('5');\n    PaymentScreen.check.remainingIs('46.8');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.do.pressNumpad('2 0');\n    PaymentScreen.check.remainingIs('26.8');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(false);\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.check.remainingIs('0.0');\n    PaymentScreen.check.changeIs('0.0');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n\n    Tour.register('PaymentScreenTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.ProductConfigurator', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { ProductConfigurator } = require('point_of_sale.tour.ProductConfiguratorTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    var Tour = require('web_tour.tour');\n\n    // signal to start generating steps\n    // when finished, steps can be taken from getSteps\n    startSteps();\n\n    ProductScreen.do.confirmOpeningPopup();\n    // Go by default to home category\n    ProductScreen.do.clickHomeCategory();\n\n    // Click on Configurable Chair product\n    ProductScreen.do.clickDisplayedProduct('Configurable Chair');\n    ProductConfigurator.check.isShown();\n\n    // Cancel configuration, not product should be in order\n    ProductConfigurator.do.cancelAttributes();\n    ProductScreen.check.orderIsEmpty();\n\n    // Click on Configurable Chair product\n    ProductScreen.do.clickDisplayedProduct('Configurable Chair');\n    ProductConfigurator.check.isShown();\n\n    // Pick Color\n    ProductConfigurator.do.pickColor('Red');\n\n    // Pick Radio\n    ProductConfigurator.do.pickSelect('Metal');\n\n    // Pick Select\n    ProductConfigurator.do.pickRadio('Other');\n\n    // Fill in custom attribute\n    ProductConfigurator.do.fillCustomAttribute('Custom Fabric');\n\n    // Confirm configuration\n    ProductConfigurator.do.confirmAttributes();\n\n    // Check that the product has been added to the order with correct attributes and price\n    ProductScreen.check.selectedOrderlineHas('Configurable Chair (Red, Metal, Other: Custom Fabric)', '1.0', '11.0');\n\n    // Orderlines with the same attributes should be merged\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.do.clickDisplayedProduct('Configurable Chair');\n    ProductConfigurator.do.pickColor('Red');\n    ProductConfigurator.do.pickSelect('Metal');\n    ProductConfigurator.do.pickRadio('Other');\n    ProductConfigurator.do.fillCustomAttribute('Custom Fabric');\n    ProductConfigurator.do.confirmAttributes();\n    ProductScreen.check.selectedOrderlineHas('Configurable Chair (Red, Metal, Other: Custom Fabric)', '2.0', '22.0');\n\n    // Orderlines with different attributes shouldn't be merged\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.do.clickDisplayedProduct('Configurable Chair');\n    ProductConfigurator.do.pickColor('Blue');\n    ProductConfigurator.do.pickSelect('Metal');\n    ProductConfigurator.do.pickRadio('Leather');\n    ProductConfigurator.do.confirmAttributes();\n    ProductScreen.check.selectedOrderlineHas('Configurable Chair (Blue, Metal, Leather)', '1.0', '10.0');\n\n    Tour.register('ProductConfiguratorTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.ProductScreen', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { TextAreaPopup } = require('point_of_sale.tour.TextAreaPopupTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    var Tour = require('web_tour.tour');\n\n    // signal to start generating steps\n    // when finished, steps can be taken from getSteps\n    startSteps();\n\n    // Go by default to home category\n    ProductScreen.do.clickHomeCategory();\n\n    // Clicking product multiple times should increment quantity\n    ProductScreen.do.clickDisplayedProduct('Desk Organizer');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '1.0', '5.10');\n    ProductScreen.do.clickDisplayedProduct('Desk Organizer');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '2.0', '10.20');\n\n    // Clicking product should add new orderline and select the orderline\n    // If orderline exists, increment the quantity\n    ProductScreen.do.clickDisplayedProduct('Letter Tray');\n    ProductScreen.check.selectedOrderlineHas('Letter Tray', '1.0', '4.80');\n    ProductScreen.do.clickDisplayedProduct('Desk Organizer');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '3.0', '15.30');\n\n    // Check effects of clicking numpad buttons\n    ProductScreen.do.clickOrderline('Letter Tray', '1');\n    ProductScreen.check.selectedOrderlineHas('Letter Tray', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Letter Tray', '0.0', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '3', '15.30');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '0.0', '0.0');\n    ProductScreen.do.pressNumpad('1');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '1.0', '5.1');\n    ProductScreen.do.pressNumpad('2');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '12.0', '61.2');\n    ProductScreen.do.pressNumpad('3');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '123.0', '627.3');\n    ProductScreen.do.pressNumpad('. 5');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '123.5', '629.85');\n    ProductScreen.do.pressNumpad('Price');\n    ProductScreen.do.pressNumpad('1');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '123.5', '123.5');\n    ProductScreen.do.pressNumpad('1 .');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '123.5', '1,358.5');\n    ProductScreen.do.pressNumpad('Disc');\n    ProductScreen.do.pressNumpad('5 .');\n    ProductScreen.check.selectedOrderlineHas('Desk Organizer', '123.5', '1,290.58');\n    ProductScreen.do.pressNumpad('Qty');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.orderIsEmpty();\n\n    // Check different subcategories\n    ProductScreen.do.clickSubcategory('Desks');\n    ProductScreen.check.productIsDisplayed('Desk Pad');\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.do.clickSubcategory('Miscellaneous');\n    ProductScreen.check.productIsDisplayed('Whiteboard Pen');\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.do.clickSubcategory('Chairs');\n    ProductScreen.check.productIsDisplayed('Letter Tray');\n    ProductScreen.do.clickHomeCategory();\n\n    // Add multiple orderlines then delete each of them until empty\n    ProductScreen.do.clickDisplayedProduct('Whiteboard Pen');\n    ProductScreen.do.clickDisplayedProduct('Wall Shelf Unit');\n    ProductScreen.do.clickDisplayedProduct('Small Shelf');\n    ProductScreen.do.clickDisplayedProduct('Magnetic Board');\n    ProductScreen.do.clickDisplayedProduct('Monitor Stand');\n    ProductScreen.do.clickOrderline('Whiteboard Pen', '1.0');\n    ProductScreen.check.selectedOrderlineHas('Whiteboard Pen', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Whiteboard Pen', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Monitor Stand', '1.0');\n    ProductScreen.do.clickOrderline('Wall Shelf Unit', '1.0');\n    ProductScreen.check.selectedOrderlineHas('Wall Shelf Unit', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Wall Shelf Unit', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Monitor Stand', '1.0');\n    ProductScreen.do.clickOrderline('Small Shelf', '1.0');\n    ProductScreen.check.selectedOrderlineHas('Small Shelf', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Small Shelf', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Monitor Stand', '1.0');\n    ProductScreen.do.clickOrderline('Magnetic Board', '1.0');\n    ProductScreen.check.selectedOrderlineHas('Magnetic Board', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Magnetic Board', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Monitor Stand', '1.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.selectedOrderlineHas('Monitor Stand', '0.0');\n    ProductScreen.do.pressNumpad('Backspace');\n    ProductScreen.check.orderIsEmpty();\n\n    // Test OrderlineCustomerNoteButton\n    ProductScreen.do.clickDisplayedProduct('Desk Organizer');\n    ProductScreen.do.clickOrderlineCustomerNoteButton();\n    TextAreaPopup.check.isShown();\n    TextAreaPopup.do.inputText('Test customer note');\n    TextAreaPopup.do.clickConfirm();\n    ProductScreen.check.orderlineHasCustomerNote('Desk Organizer', '1', 'Test customer note');\n\n\n    Tour.register('ProductScreenTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.ReceiptScreen', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { ReceiptScreen } = require('point_of_sale.tour.ReceiptScreenTourMethods');\n    const { PaymentScreen } = require('point_of_sale.tour.PaymentScreenTourMethods');\n    const { NumberPopup } = require('point_of_sale.tour.NumberPopupTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    const Tour = require('web_tour.tour');\n\n    startSteps();\n\n    // press close button in receipt screen\n    ProductScreen.exec.addOrderline('Letter Tray', '10', '5');\n    ProductScreen.check.selectedOrderlineHas('Letter Tray', '10');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.check.validateButtonIsHighlighted(true);\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.receiptIsThere();\n    // letter tray has 10% tax (search SRC)\n    ReceiptScreen.check.totalAmountContains('55.0');\n    ReceiptScreen.do.clickNextOrder();\n\n    // send email in receipt screen\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.exec.addOrderline('Desk Pad', '6', '5', '30.0');\n    ProductScreen.exec.addOrderline('Whiteboard Pen', '6', '6', '36.0');\n    ProductScreen.exec.addOrderline('Monitor Stand', '6', '1', '6.0');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.pressNumpad('7 0');\n    PaymentScreen.check.remainingIs('2.0');\n    PaymentScreen.do.pressNumpad('0');\n    PaymentScreen.check.remainingIs('0.00');\n    PaymentScreen.check.changeIs('628.0');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.receiptIsThere();\n    ReceiptScreen.check.totalAmountContains('72.0');\n    ReceiptScreen.do.setEmail('test@receiptscreen.com');\n    ReceiptScreen.do.clickSend();\n    ReceiptScreen.check.emailIsSuccessful();\n    ReceiptScreen.do.clickNextOrder();\n\n    // order with tip\n    // check if tip amount is displayed\n    ProductScreen.exec.addOrderline('Desk Pad', '6', '5');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickTipButton();\n    NumberPopup.do.pressNumpad('1');\n    NumberPopup.check.inputShownIs('1');\n    NumberPopup.do.clickConfirm();\n    PaymentScreen.check.emptyPaymentlines('31.0');\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.receiptIsThere();\n    ReceiptScreen.check.totalAmountContains('$ 30.00 + $ 1.00 tip');\n    ReceiptScreen.do.clickNextOrder();\n\n    // Test customer note in receipt\n    ProductScreen.exec.addOrderline('Desk Pad', '1', '5');\n    ProductScreen.exec.addCustomerNote('Test customer note')\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.customerNoteIsThere('Test customer note');\n\n    Tour.register('ReceiptScreenTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.TicketScreen', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { ReceiptScreen } = require('point_of_sale.tour.ReceiptScreenTourMethods');\n    const { PaymentScreen } = require('point_of_sale.tour.PaymentScreenTourMethods');\n    const { ClientListScreen } = require('point_of_sale.tour.ClientListScreenTourMethods');\n    const { TicketScreen } = require('point_of_sale.tour.TicketScreenTourMethods');\n    const { ErrorPopup } = require('point_of_sale.tour.ErrorPopupTourMethods');\n    const { Chrome } = require('point_of_sale.tour.ChromeTourMethods');\n    const { getSteps, startSteps } = require('point_of_sale.tour.utils');\n    var Tour = require('web_tour.tour');\n\n    startSteps();\n\n    ProductScreen.do.confirmOpeningPopup();\n    ProductScreen.do.clickHomeCategory();\n    ProductScreen.exec.addOrderline('Desk Pad', '1', '2');\n    ProductScreen.do.clickCustomerButton();\n    ProductScreen.do.clickCustomer('Nicole Ford');\n    ProductScreen.do.clickSetCustomer();\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.nthRowContains(2, 'Nicole Ford');\n    TicketScreen.do.clickNewTicket();\n    ProductScreen.exec.addOrderline('Desk Pad', '1', '3');\n    ProductScreen.do.clickCustomerButton();\n    ProductScreen.do.clickCustomer('Brandon Freeman');\n    ProductScreen.do.clickSetCustomer();\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.check.isShown();\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.nthRowContains(3, 'Brandon Freeman');\n    TicketScreen.do.clickNewTicket();\n    ProductScreen.exec.addOrderline('Desk Pad', '2', '4');\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.isShown();\n    Chrome.do.clickTicketButton();\n    TicketScreen.check.nthRowContains(4, 'Receipt');\n    TicketScreen.do.selectFilter('Receipt');\n    TicketScreen.check.nthRowContains(2, 'Receipt');\n    TicketScreen.do.selectFilter('Payment');\n    TicketScreen.check.nthRowContains(2, 'Payment');\n    TicketScreen.do.selectFilter('Ongoing');\n    TicketScreen.check.nthRowContains(2, 'Ongoing');\n    TicketScreen.do.selectFilter('All active orders');\n    TicketScreen.check.nthRowContains(4, 'Receipt');\n    TicketScreen.do.search('Customer', 'Nicole');\n    TicketScreen.check.nthRowContains(2, 'Nicole');\n    TicketScreen.do.search('Customer', 'Brandon');\n    TicketScreen.check.nthRowContains(2, 'Brandon');\n    TicketScreen.do.search('Receipt Number', '-0003');\n    TicketScreen.check.nthRowContains(2, 'Receipt');\n    // Close the TicketScreen to see the current order which is in ReceiptScreen.\n    // This is just to remove the search string in the search bar.\n    TicketScreen.do.clickDiscard();\n    ReceiptScreen.check.isShown();\n    // Open again the TicketScreen to check the Paid filter.\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.selectFilter('Paid');\n    TicketScreen.check.nthRowContains(2, '-0003');\n    // Pay the order that was in PaymentScreen.\n    TicketScreen.do.selectFilter('Payment');\n    TicketScreen.do.selectOrder('-0002');\n    PaymentScreen.do.clickPaymentMethod('Cash');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.isShown();\n    ReceiptScreen.do.clickNextOrder();\n    ProductScreen.check.isShown();\n    // Check that the Paid filter will show the 2 synced orders.\n    Chrome.do.clickTicketButton();\n    TicketScreen.do.selectFilter('Paid');\n    TicketScreen.check.nthRowContains(2, 'Brandon Freeman');\n    TicketScreen.check.nthRowContains(3, '-0003');\n    // Invoice order\n    TicketScreen.do.selectOrder('-0003');\n    TicketScreen.check.orderWidgetIsNotEmpty();\n    TicketScreen.do.clickControlButton('Invoice');\n    Chrome.do.confirmPopup();\n    ClientListScreen.check.isShown();\n    ClientListScreen.exec.setClient('Colleen Diaz');\n    TicketScreen.check.customerIs('Colleen Diaz');\n    // Reprint receipt\n    TicketScreen.do.clickControlButton('Print Receipt');\n    ReceiptScreen.check.isShown();\n    ReceiptScreen.do.clickBack();\n    // When going back, the ticket screen should be in its previous state.\n    TicketScreen.check.filterIs('Paid');\n\n    // Test refund //\n    TicketScreen.do.clickDiscard();\n    ProductScreen.check.isShown();\n    ProductScreen.check.orderIsEmpty();\n    ProductScreen.do.clickRefund();\n    // Filter should be automatically 'Paid'.\n    TicketScreen.check.filterIs('Paid');\n    TicketScreen.do.selectOrder('-0003');\n    TicketScreen.check.customerIs('Colleen Diaz');\n    TicketScreen.do.clickOrderline('Desk Pad');\n    TicketScreen.do.pressNumpad('3');\n    // Error should show because 2 is more than the number\n    // that can be refunded.\n    ErrorPopup.do.clickConfirm();\n    TicketScreen.do.clickDiscard();\n    ProductScreen.check.isShown();\n    ProductScreen.check.orderIsEmpty();\n    ProductScreen.do.clickRefund();\n    TicketScreen.do.selectOrder('-0003');\n    TicketScreen.do.clickOrderline('Desk Pad');\n    TicketScreen.do.pressNumpad('1');\n    TicketScreen.check.toRefundTextContains('To Refund: 1.00');\n    TicketScreen.do.confirmRefund();\n    ProductScreen.check.isShown();\n    ProductScreen.check.selectedOrderlineHas('Desk Pad', '-1.00');\n    // Try changing the refund line to positive number.\n    // Error popup should show.\n    ProductScreen.do.pressNumpad('2');\n    ErrorPopup.do.clickConfirm();\n    // Change the refund line quantity to -3 -- not allowed\n    // so error popup.\n    ProductScreen.do.pressNumpad('+/- 3');\n    ErrorPopup.do.clickConfirm();\n    // Change the refund line quantity to -2 -- allowed.\n    ProductScreen.do.pressNumpad('+/- 2');\n    ProductScreen.check.selectedOrderlineHas('Desk Pad', '-2.00');\n    // Check if the amount being refunded changed to 2.\n    ProductScreen.do.clickRefund();\n    TicketScreen.do.selectOrder('-0003');\n    TicketScreen.check.toRefundTextContains('Refunding 2.00');\n    TicketScreen.do.clickDiscard();\n    // Pay the refund order.\n    ProductScreen.do.clickPayButton();\n    PaymentScreen.do.clickPaymentMethod('Bank');\n    PaymentScreen.do.clickValidate();\n    ReceiptScreen.check.isShown();\n    ReceiptScreen.do.clickNextOrder();\n    // Check refunded quantity.\n    ProductScreen.do.clickRefund();\n    TicketScreen.do.selectOrder('-0003');\n    TicketScreen.check.refundedNoteContains('2.00 Refunded');\n\n    Tour.register('TicketScreenTour', { test: true, url: '/pos/ui' }, getSteps());\n});\n", "odoo.define('point_of_sale.tour.ChromeTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        confirmPopup() {\n            return [\n                {\n                    content: 'confirm popup',\n                    trigger: '.popups .modal-dialog .button.confirm',\n                },\n            ];\n        }\n        clickTicketButton() {\n            return [\n                {\n                    trigger: '.pos-topheader .ticket-button',\n                },\n                {\n                    trigger: '.subwindow .ticket-screen',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('Chrome', Do);\n});\n", "odoo.define('point_of_sale.tour.ClientListScreenTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickClient(name) {\n            return [\n                {\n                    content: `click client '${name}' from client list screen`,\n                    trigger: `.clientlist-screen .client-list-contents .client-line td:contains(\"${name}\")`,\n                },\n                {\n                    content: `check if client '${name}' is highlighted`,\n                    trigger: `.clientlist-screen .client-list-contents .client-line.highlight td:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        clickSet() {\n            return [\n                {\n                    content: 'check if set button shown',\n                    trigger: '.clientlist-screen .button.next.highlight',\n                    run: () => {},\n                },\n                {\n                    content: 'click set button',\n                    trigger: '.clientlist-screen .button.next.highlight',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'client list screen is shown',\n                    trigger: '.pos-content .clientlist-screen',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    class Execute {\n        setClient(name) {\n            const steps = [];\n            steps.push(...this._do.clickClient(name));\n            steps.push(...this._do.clickSet());\n            return steps;\n        }\n    }\n\n    return createTourMethods('ClientListScreen', Do, Check, Execute);\n});\n", "odoo.define('point_of_sale.tour.CompositeTourMethods', function (require) {\n    'use strict';\n\n    const { ProductScreen } = require('point_of_sale.tour.ProductScreenTourMethods');\n    const { ReceiptScreen } = require('point_of_sale.tour.ReceiptScreenTourMethods');\n    const { PaymentScreen } = require('point_of_sale.tour.PaymentScreenTourMethods');\n    const { ClientListScreen } = require('point_of_sale.tour.ClientListScreenTourMethods');\n\n    function makeFullOrder({ orderlist, customer, payment, ntimes = 1 , customerNote}) {\n        for (let i = 0; i < ntimes; i++) {\n            ProductScreen.exec.addMultiOrderlines(...orderlist);\n            if (customer) {\n                ProductScreen.do.clickCustomerButton();\n                ClientListScreen.exec.setClient(customer);\n            }\n            if (customerNote) { // this will add a note to the last selected order line\n                ProductScreen.exec.addCustomerNote(customerNote);\n            }\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.exec.pay(...payment);\n            ReceiptScreen.exec.nextOrder();\n        }\n    }\n\n    return { makeFullOrder };\n});\n", "odoo.define('point_of_sale.tour.ErrorPopupTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickConfirm() {\n            return [\n                {\n                    content: 'click confirm button',\n                    trigger: '.popup-error .footer .cancel',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'error popup is shown',\n                    trigger: '.modal-dialog .popup-error',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('ErrorPopup', Do, Check);\n});\n", "odoo.define('point_of_sale.tour.NumberPopupTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        /**\n         * Note: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n         * fast inputs. Fast inputs is the case in tours.\n         *\n         * @param {String} keys space-separated input keys\n         */\n        pressNumpad(keys) {\n            const numberChars = '0 1 2 3 4 5 6 7 8 9 C'.split(' ');\n            const modeButtons = '+1 +10 +2 +20 +5 +50'.split(' ');\n            const decimalSeparators = ', .'.split(' ');\n            function generateStep(key) {\n                let trigger;\n                if (numberChars.includes(key)) {\n                    trigger = `.popup-numpad .number-char:contains(\"${key}\")`;\n                } else if (modeButtons.includes(key)) {\n                    trigger = `.popup-numpad .mode-button:contains(\"${key}\")`;\n                } else if (key === 'Backspace') {\n                    trigger = `.popup-numpad .numpad-backspace`;\n                } else if (decimalSeparators.includes(key)) {\n                    trigger = `.popup-numpad .number-char.dot`;\n                }\n                return {\n                    content: `'${key}' pressed in numpad`,\n                    trigger,\n                };\n            }\n            return keys.split(' ').map(generateStep);\n        }\n        clickConfirm() {\n            return [\n                {\n                    content: 'click confirm button',\n                    trigger: '.popup-number .footer .confirm',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'number popup is shown',\n                    trigger: '.modal-dialog .popup-number',\n                    run: () => {},\n                },\n            ];\n        }\n        inputShownIs(val) {\n            return [\n                {\n                    content: 'number input element check',\n                    trigger: '.modal-dialog .popup-number .popup-input',\n                    run: () => {},\n                },\n                {\n                    content: `input shown is '${val}'`,\n                    trigger: `.modal-dialog .popup-number .popup-input:contains(\"${val}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('NumberPopup', Do, Check);\n});\n", "odoo.define('point_of_sale.tour.PaymentScreenTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickPaymentMethod(name) {\n            return [\n                {\n                    content: `click '${name}' payment method`,\n                    trigger: `.paymentmethods .button.paymentmethod:contains(\"${name}\")`,\n                },\n            ];\n        }\n\n        /**\n         * Delete the paymentline having the given payment method name and amount.\n         * @param {String} name payment method\n         * @param {String} amount\n         */\n        clickPaymentlineDelButton(name, amount) {\n            return [\n                {\n                    content: `delete ${name} paymentline with ${amount} amount`,\n                    trigger: `.paymentlines .paymentline .payment-name:contains(\"${name}\") ~ .delete-button`,\n                },\n            ];\n        }\n\n        clickEmailButton() {\n            return [\n                {\n                    content: `click email button`,\n                    trigger: `.payment-buttons .js_email`,\n                },\n            ];\n        }\n\n        clickInvoiceButton() {\n            return [{ content: 'click invoice button', trigger: '.payment-buttons .js_invoice' }];\n        }\n\n        clickValidate() {\n            return [\n                {\n                    content: 'validate payment',\n                    trigger: `.payment-screen .button.next.highlight`,\n                },\n            ];\n        }\n\n        /**\n         * Press the numpad in sequence based on the given space-separated keys.\n         * Note: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n         * fast inputs. Fast inputs is the case in tours.\n         *\n         * @param {String} keys space-separated numpad keys\n         */\n        pressNumpad(keys) {\n            const numberChars = '. +/- 0 1 2 3 4 5 6 7 8 9'.split(' ');\n            const modeButtons = '+10 +20 +50'.split(' ');\n            function generateStep(key) {\n                let trigger;\n                if (numberChars.includes(key)) {\n                    trigger = `.payment-numpad .number-char:contains(\"${key}\")`;\n                } else if (modeButtons.includes(key)) {\n                    trigger = `.payment-numpad .mode-button:contains(\"${key}\")`;\n                } else if (key === 'Backspace') {\n                    trigger = `.payment-numpad .number-char img[alt=\"Backspace\"]`;\n                }\n                return {\n                    content: `'${key}' pressed in payment numpad`,\n                    trigger,\n                };\n            }\n            return keys.split(' ').map(generateStep);\n        }\n\n        clickBack() {\n            return [\n                {\n                    content: 'click back button',\n                    trigger: '.payment-screen .button.back',\n                },\n            ];\n        }\n\n        clickTipButton() {\n            return [\n                {\n                    trigger: '.payment-screen .button.js_tip',\n                },\n            ]\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'payment screen is shown',\n                    trigger: '.pos .payment-screen',\n                    run: () => {},\n                },\n            ];\n        }\n        /**\n         * Check if change is the provided amount.\n         * @param {String} amount\n         */\n        changeIs(amount) {\n            return [\n                {\n                    content: `change is ${amount}`,\n                    trigger: `.payment-status-change .amount:contains(\"${amount}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        /**\n         * Check if the remaining is the provided amount.\n         * @param {String} amount\n         */\n        remainingIs(amount) {\n            return [\n                {\n                    content: `remaining amount is ${amount}`,\n                    trigger: `.payment-status-remaining .amount:contains(\"${amount}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        /**\n         * Check if validate button is highlighted.\n         * @param {Boolean} isHighlighted\n         */\n        validateButtonIsHighlighted(isHighlighted = true) {\n            return [\n                {\n                    content: `validate button is ${\n                        isHighlighted ? 'highlighted' : 'not highligted'\n                    }`,\n                    trigger: isHighlighted\n                        ? `.payment-screen .button.next.highlight`\n                        : `.payment-screen .button.next:not(:has(.highlight))`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        /**\n         * Check if the paymentlines are empty. Also provide the amount to pay.\n         * @param {String} amountToPay\n         */\n        emptyPaymentlines(amountToPay) {\n            return [\n                {\n                    content: `there are no paymentlines`,\n                    trigger: `.paymentlines-empty`,\n                    run: () => {},\n                },\n                {\n                    content: `amount to pay is '${amountToPay}'`,\n                    trigger: `.paymentlines-empty .total:contains(\"${amountToPay}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        /**\n         * Check if the selected paymentline has the given payment method and amount.\n         * @param {String} paymentMethodName\n         * @param {String} amount\n         */\n        selectedPaymentlineHas(paymentMethodName, amount) {\n            return [\n                {\n                    content: `line paid via '${paymentMethodName}' is selected`,\n                    trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${paymentMethodName}\")`,\n                    run: () => {},\n                },\n                {\n                    content: `amount tendered in the line is '${amount}'`,\n                    trigger: `.paymentlines .paymentline.selected .payment-amount:contains(\"${amount}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    class Execute {\n        pay(method, amount) {\n            const steps = [];\n            steps.push(...this._do.clickPaymentMethod(method));\n            for (let char of amount.split('')) {\n                steps.push(...this._do.pressNumpad(char));\n            }\n            steps.push(...this._check.validateButtonIsHighlighted());\n            steps.push(...this._do.clickValidate());\n            return steps;\n        }\n    }\n\n    return createTourMethods('PaymentScreen', Do, Check, Execute);\n});\n", "odoo.define('point_of_sale.tour.ProductConfiguratorTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        pickRadio(name) {\n            return [\n                {\n                    content: `picking radio attribute with name ${name}`,\n                    trigger: `.product-configurator-popup .attribute-name-cell label:contains('${name}')`,\n                },\n            ];\n        }\n\n        pickSelect(name) {\n            return [\n                {\n                    content: `picking select attribute with name ${name}`,\n                    trigger: `.product-configurator-popup .configurator_select:has(option:contains('${name}'))`,\n                    run: `text ${name}`,\n                },\n            ];\n        }\n\n        pickColor(name) {\n            return [\n                {\n                    content: `picking color attribute with name ${name}`,\n                    trigger: `.product-configurator-popup .configurator_color[data-color='${name}']`,\n                },\n            ];\n        }\n\n        fillCustomAttribute(value) {\n            return [\n                {\n                    content: `filling custom attribute with value ${value}`,\n                    trigger: `.product-configurator-popup .custom_value`,\n                    run: `text ${value}`,\n                },\n            ];\n        }\n\n        confirmAttributes() {\n            return [\n                {\n                    content: `confirming product configuration`,\n                    trigger: `.product-configurator-popup .button.confirm`,\n                },\n            ];\n        }\n\n        cancelAttributes() {\n            return [\n                {\n                    content: `canceling product configuration`,\n                    trigger: `.product-configurator-popup .button.cancel`,\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'product configurator is shown',\n                    trigger: '.product-configurator-popup:not(:has(.oe_hidden))',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('ProductConfigurator', Do, Check);\n});\n", "odoo.define('point_of_sale.tour.ProductScreenTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n    const { TextAreaPopup } = require('point_of_sale.tour.TextAreaPopupTourMethods');\n\n    class Do {\n        clickDisplayedProduct(name) {\n            return [\n                {\n                    content: `click product '${name}'`,\n                    trigger: `.product-list .product-name:contains(\"${name}\")`,\n                },\n            ];\n        }\n\n        clickOrderline(name, quantity) {\n            return [\n                {\n                    content: `selecting orderline with product '${name}' and quantity '${quantity}'`,\n                    trigger: `.order .orderline:not(:has(.selected)) .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                },\n                {\n                    content: `orderline with product '${name}' and quantity '${quantity}' has been selected`,\n                    trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        clickSubcategory(name) {\n            return [\n                {\n                    content: `selecting '${name}' subcategory`,\n                    trigger: `.products-widget > .products-widget-control .category-simple-button:contains(\"${name}\")`,\n                },\n                {\n                    content: `'${name}' subcategory selected`,\n                    trigger: `.breadcrumbs .breadcrumb-button:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        clickHomeCategory() {\n            return [\n                {\n                    content: `click Home subcategory`,\n                    trigger: `.breadcrumbs .breadcrumb-home`,\n                },\n            ];\n        }\n\n        /**\n         * Press the numpad in sequence based on the given space-separated keys.\n         * NOTE: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n         * fast inputs. Fast inputs is the case in tours.\n         *\n         * @param {String} keys space-separated numpad keys\n         */\n        pressNumpad(keys) {\n            const numberChars = '. 0 1 2 3 4 5 6 7 8 9'.split(' ');\n            const modeButtons = 'Qty Price Disc'.split(' ');\n            function generateStep(key) {\n                let trigger;\n                if (numberChars.includes(key)) {\n                    trigger = `.numpad .number-char:contains(\"${key}\")`;\n                } else if (modeButtons.includes(key)) {\n                    trigger = `.numpad .mode-button:contains(\"${key}\")`;\n                } else if (key === 'Backspace') {\n                    trigger = `.numpad .numpad-backspace`;\n                } else if (key === '+/-') {\n                    trigger = `.numpad .numpad-minus`;\n                }\n                return {\n                    content: `'${key}' pressed in product screen numpad`,\n                    trigger,\n                };\n            }\n            return keys.split(' ').map(generateStep);\n        }\n\n        clickPayButton() {\n            return [\n                { content: 'click pay button', trigger: '.product-screen .actionpad .button.pay' },\n                {\n                    content: 'now in payment screen',\n                    trigger: '.pos-content .payment-screen',\n                    run: () => {},\n                },\n            ];\n        }\n\n        clickCustomerButton() {\n            return [\n                { content: 'click customer button', trigger: '.actionpad .button.set-customer' },\n                {\n                    content: 'customer screen is shown',\n                    trigger: '.pos-content .clientlist-screen',\n                    run: () => {},\n                },\n            ];\n        }\n\n        clickCustomer(name) {\n            return [\n                {\n                    content: `select customer '${name}'`,\n                    trigger: `.clientlist-screen .client-line td:contains(\"${name}\")`,\n                },\n                {\n                    content: `client line '${name}' is highlighted`,\n                    trigger: `.clientlist-screen .client-line.highlight td:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        clickSetCustomer() {\n            return [\n                {\n                    content: 'click set customer',\n                    trigger: '.clientlist-screen .button.next.highlight',\n                },\n            ];\n        }\n\n        clickOrderlineCustomerNoteButton() {\n            return [\n                {\n                    content: 'click customer note button',\n                    trigger: '.control-buttons .control-button span:contains(\"Customer Note\")',\n                }\n            ]\n        }\n        clickRefund() {\n            return [\n                {\n                    trigger: '.control-button:contains(\"Refund\")',\n                },\n            ];\n        }\n        confirmOpeningPopup() {\n            return [{ trigger: '.opening-cash-control .button:contains(\"Open session\")' }];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'product screen is shown',\n                    trigger: '.product-screen:not(:has(.oe_hidden))',\n                    run: () => {},\n                },\n            ];\n        }\n        selectedOrderlineHas(name, quantity, price) {\n            const res = [\n                {\n                    // check first if the order widget is there and has orderlines\n                    content: 'order widget has orderlines',\n                    trigger: '.order .orderlines',\n                    run: () => {},\n                },\n                {\n                    content: `'${name}' is selected`,\n                    trigger: `.order .orderline.selected .product-name:contains(\"${name}\")`,\n                    run: function () {}, // it's a check\n                },\n            ];\n            if (quantity) {\n                res.push({\n                    content: `selected line has ${quantity} quantity`,\n                    trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                    run: function () {}, // it's a check\n                });\n            }\n            if (price) {\n                res.push({\n                    content: `selected line has total price of ${price}`,\n                    trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .price:contains(\"${price}\")`,\n                    run: function () {}, // it's a check\n                });\n            }\n            return res;\n        }\n        orderIsEmpty() {\n            return [\n                {\n                    content: `order is empty`,\n                    trigger: `.order .order-empty`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        productIsDisplayed(name) {\n            return [\n                {\n                    content: `'${name}' should be displayed`,\n                    trigger: `.product-list .product-name:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        totalAmountIs(amount) {\n            return [\n                {\n                    content: `order total amount is '${amount}'`,\n                    trigger: `.order-container .order .summary .value:contains(\"${amount}\")`,\n                    run: () => {},\n                }\n            ]\n        }\n        modeIsActive(mode) {\n            return [\n                {\n                    content: `'${mode}' is active`,\n                    trigger: `.numpad button.selected-mode:contains('${mode}')`,\n                    run: function () {},\n                },\n            ];\n        }\n        orderlineHasCustomerNote(name, quantity, note) {\n            return [\n                {\n                    content: `line has ${quantity} quantity`,\n                    trigger: `.order .orderline .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                    run: function () {}, // it's a check\n                },\n                {\n                    content: `line has '${note}' as customer note`,\n                    trigger: `.order .orderline .info-list .orderline-note:contains(\"${note}\")`,\n                    run: function () {}, // it's a check\n                },\n            ]\n        }\n    }\n\n    class Execute {\n        /**\n         * Create an orderline for the given `productName` and `quantity`.\n         * - If `unitPrice` is provided, price of the product of the created line\n         *   is changed to that value.\n         * - If `expectedTotal` is provided, the created orderline (which is the currently\n         *   selected orderline) is checked if it contains the correct quantity and total\n         *   price.\n         *\n         * @param {string} productName\n         * @param {string} quantity\n         * @param {string} unitPrice\n         * @param {string} expectedTotal\n         */\n        addOrderline(productName, quantity, unitPrice = undefined, expectedTotal = undefined) {\n            const res = this._do.clickDisplayedProduct(productName);\n            if (unitPrice) {\n                res.push(...this._do.pressNumpad('Price'));\n                res.push(...this._check.modeIsActive('Price'));\n                res.push(...this._do.pressNumpad(unitPrice.toString().split('').join(' ')));\n                res.push(...this._do.pressNumpad('Qty'));\n                res.push(...this._check.modeIsActive('Qty'));\n            }\n            for (let char of quantity.toString()) {\n                if ('.0123456789'.includes(char)) {\n                    res.push(...this._do.pressNumpad(char));\n                } else if ('-'.includes(char)) {\n                    res.push(...this._do.pressNumpad('+/-'));\n                }\n            }\n            if (expectedTotal) {\n                res.push(...this._check.selectedOrderlineHas(productName, quantity, expectedTotal));\n            } else {\n                res.push(...this._check.selectedOrderlineHas(productName, quantity));\n            }\n            return res;\n        }\n        addMultiOrderlines(...list) {\n            const steps = [];\n            for (let [product, qty, price] of list) {\n                steps.push(...this.addOrderline(product, qty, price));\n            }\n            return steps;\n        }\n        addCustomerNote(note) {\n            const res = [];\n            res.push(...this._do.clickOrderlineCustomerNoteButton());\n            res.push(...TextAreaPopup._do.inputText(note));\n            res.push(...TextAreaPopup._do.clickConfirm());\n            return res;\n        }\n    }\n\n    return createTourMethods('ProductScreen', Do, Check, Execute);\n});\n", "odoo.define('point_of_sale.tour.ReceiptScreenTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickNextOrder() {\n            return [\n                {\n                    content: 'go to next screen',\n                    trigger: '.receipt-screen .button.next.highlight',\n                },\n            ];\n        }\n        setEmail(email) {\n            return [\n                {\n                    trigger: '.receipt-screen .input-email input',\n                    run: `text ${email}`,\n                },\n            ];\n        }\n        clickSend(isHighlighted = true) {\n            return [\n                {\n                    trigger: `.receipt-screen .input-email .send${isHighlighted ? '.highlight' : ''}`,\n                },\n            ];\n        }\n        clickBack() {\n            return [\n                {\n                    trigger: '.receipt-screen .button.back',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'receipt screen is shown',\n                    trigger: '.pos .receipt-screen',\n                    run: () => {},\n                },\n            ];\n        }\n\n        receiptIsThere() {\n            return [\n                {\n                    content: 'there should be the receipt',\n                    trigger: '.receipt-screen .pos-receipt',\n                    run: () => {},\n                },\n            ];\n        }\n\n        totalAmountContains(value) {\n            return [\n                {\n                    trigger: `.receipt-screen .top-content h1:contains(\"${value}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        emailIsSuccessful() {\n            return [\n                {\n                    trigger: `.receipt-screen .notice .successful`,\n                    run: () => {},\n                },\n            ];\n        }\n\n        customerNoteIsThere(note) {\n            return [\n                {\n                    trigger: `.receipt-screen .orderlines .pos-receipt-left-padding:contains(\"${note}\")`\n                }\n            ]\n        }\n    }\n\n    class Execute {\n        nextOrder() {\n            return [...this._check.isShown(), ...this._do.clickNextOrder()];\n        }\n    }\n\n    return createTourMethods('ReceiptScreen', Do, Check, Execute);\n});\n", "odoo.define('point_of_sale.tour.SelectionPopupTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickItem(name) {\n            return [\n                {\n                    content: `click selection '${name}'`,\n                    trigger: `.selection-item:contains(\"${name}\")`,\n                },\n            ];\n        }\n    }\n\n    class Check {\n        hasSelectionItem(name) {\n            return [\n                {\n                    content: `selection popup has '${name}'`,\n                    trigger: `.selection-item:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        isShown() {\n            return [\n                {\n                    content: 'selection popup is shown',\n                    trigger: '.modal-dialog .popup-selection',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('SelectionPopup', Do, Check);\n});\n", "odoo.define('point_of_sale.tour.TextAreaPopupTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        inputText(val) {\n            return [\n                {\n                    content: `input text '${val}'`,\n                    trigger: `.modal-dialog .popup-textarea textarea`,\n                    run: `text ${val}`,\n                },\n            ];\n        }\n        clickConfirm() {\n            return [\n                {\n                    content: 'confirm text input popup',\n                    trigger: '.modal-dialog .confirm',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        isShown() {\n            return [\n                {\n                    content: 'text input popup is shown',\n                    trigger: '.modal-dialog .popup-textarea',\n                    run: () => {},\n                },\n            ];\n        }\n    }\n\n    return createTourMethods('TextAreaPopup', Do, Check);\n});\n", "odoo.define('point_of_sale.tour.TicketScreenTourMethods', function (require) {\n    'use strict';\n\n    const { createTourMethods } = require('point_of_sale.tour.utils');\n\n    class Do {\n        clickNewTicket() {\n            return [{ trigger: '.ticket-screen .highlight' }];\n        }\n        clickDiscard() {\n            return [{ trigger: '.ticket-screen button.discard' }];\n        }\n        selectOrder(orderName) {\n            return [\n                {\n                    trigger: `.ticket-screen .order-row > .col:nth-child(2):contains(\"${orderName}\")`,\n                },\n            ];\n        }\n        deleteOrder(orderName) {\n            return [\n                {\n                    trigger: `.ticket-screen .orders > .order-row > .col:contains(\"${orderName}\") ~ .col[name=\"delete\"]`,\n                },\n            ];\n        }\n        selectFilter(name) {\n            return [\n                {\n                    trigger: `.pos-search-bar .filter`,\n                },\n                {\n                    trigger: `.pos-search-bar .filter ul`,\n                    run: () => {},\n                },\n                {\n                    trigger: `.pos-search-bar .filter ul li:contains(\"${name}\")`,\n                },\n            ];\n        }\n        search(field, searchWord) {\n            return [\n                {\n                    trigger: '.pos-search-bar input',\n                    run: `text ${searchWord}`,\n                },\n                {\n                    /**\n                     * Manually trigger keyup event to show the search field list\n                     * because the previous step do not trigger keyup event.\n                     */\n                    trigger: '.pos-search-bar input',\n                    run: function () {\n                        document\n                            .querySelector('.pos-search-bar input')\n                            .dispatchEvent(new KeyboardEvent('keyup', { key: '' }));\n                    },\n                },\n                {\n                    trigger: `.pos-search-bar .search ul li:contains(\"${field}\")`,\n                },\n            ];\n        }\n        settleTips() {\n            return [\n                {\n                    trigger: '.ticket-screen .buttons .settle-tips',\n                },\n            ];\n        }\n        clickControlButton(name) {\n            return [\n                {\n                    trigger: `.ticket-screen .control-button:contains(\"${name}\")`,\n                },\n            ];\n        }\n        clickOrderline(name) {\n            return [\n                {\n                    trigger: `.ticket-screen .orderline:not(:has(.selected)) .product-name:contains(\"${name}\")`,\n                },\n                {\n                    trigger: `.ticket-screen .orderline.selected .product-name:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        pressNumpad(key) {\n            let trigger;\n            if ('.0123456789'.includes(key)) {\n                trigger = `.numpad .number-char:contains(\"${key}\")`;\n            } else if (key === 'Backspace') {\n                trigger = `.numpad .numpad-backspace`;\n            } else if (key === '+/-') {\n                trigger = `.numpad .numpad-minus`;\n            }\n            return [\n                {\n                    trigger,\n                },\n            ];\n        }\n        confirmRefund() {\n            return [\n                {\n                    trigger: '.ticket-screen .button.pay',\n                },\n            ];\n        }\n    }\n\n    class Check {\n        checkStatus(orderName, status) {\n            return [\n                {\n                    trigger: `.ticket-screen .order-row > .col:nth-child(2):contains(\"${orderName}\") ~ .col:nth-child(6):contains(${status})`,\n                    run: () => {},\n                },\n            ];\n        }\n        /**\n         * Check if the nth row contains the given string.\n         * Note that 1st row is the header-row.\n         */\n        nthRowContains(n, string) {\n            return [\n                {\n                    trigger: `.ticket-screen .orders > .order-row:nth-child(${n}):contains(\"${string}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        noNewTicketButton() {\n            return [\n                {\n                    trigger: '.ticket-screen .controls .buttons:nth-child(1):has(.discard)',\n                    run: () => {},\n                },\n            ];\n        }\n        orderWidgetIsNotEmpty() {\n            return [\n                {\n                    trigger: '.ticket-screen:not(:has(.order-empty))',\n                },\n            ];\n        }\n        filterIs(name) {\n            return [\n                {\n                    trigger: `.ticket-screen .pos-search-bar .filter span:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        customerIs(name) {\n            return [\n                {\n                    trigger: `.ticket-screen .set-customer:contains(\"${name}\")`,\n                    run: () => {},\n                },\n            ];\n        }\n        toRefundTextContains(text) {\n            return [\n                {\n                    trigger: `.ticket-screen .to-refund-highlight:contains(\"${text}\")`,\n                },\n            ];\n        }\n        refundedNoteContains(text) {\n            return [\n                {\n                    trigger: `.ticket-screen .refund-note:contains(\"${text}\")`,\n                },\n            ];\n        }\n    }\n\n    class Execute {}\n\n    return createTourMethods('TicketScreen', Do, Check, Execute);\n});\n", "odoo.define('point_of_sale.tour.utils', function (require) {\n    'use strict';\n\n    const config = require('web.config');\n\n    /**\n     * USAGE\n     * -----\n     *\n     * ```\n     * const { startSteps, getSteps, createTourMethods } = require('point_of_sale.utils');\n     * const { Other } = require('point_of_sale.tour.OtherMethods');\n     *\n     * // 1. Define classes Do, Check and Execute having methods that\n     * //    each return array of tour steps.\n     * class Do {\n     *   click() {\n     *      return [{ content: 'click button', trigger: '.button' }];\n     *   }\n     * }\n     * class Check {\n     *   isHighligted() {\n     *      return [{ content: 'button is highlighted', trigger: '.button.highlight', run: () => {} }];\n     *   }\n     * }\n     * // Notice that Execute has access to methods defined in Do and Check classes\n     * // Also, we can compose steps from other module.\n     * class Execute {\n     *   complexSteps() {\n     *      return [...this._do.click(), ...this._check.isHighlighted(), ...Other._exec.complicatedSteps()];\n     *   }\n     * }\n     *\n     * // 2. Instantiate these class definitions using `createTourMethods`.\n     * //    The returned object gives access to the defined methods above\n     * //    thru the do, check and exec properties.\n     * //    - do gives access to the methods defined in Do class\n     * //    - check gives access to the methods defined in Check class\n     * //    - exec gives access to the methods defined in Execute class\n     * const Screen = createTourMethods('Screen', Do, Check, Execute);\n     *\n     * // 3. Call `startSteps` to start empty steps.\n     * startSteps();\n     *\n     * // 4. Call the tour methods to populate the steps created by `startSteps`.\n     * Screen.do.click();               // return of this method call is added to steps created by startSteps\n     * Screen.check.isHighlighted()     // same as above\n     * Screen.exec.complexSteps()     // same as above\n     *\n     * // 5. Call `getSteps` which returns the generated tour steps.\n     * const steps = getSteps();\n     * ```\n     */\n    let steps = [];\n\n    function startSteps() {\n        // always start by waiting for loading to finish\n        steps = [\n            {\n                content: 'wait for loading to finish',\n                trigger: 'body:not(:has(.loader))',\n                run: function () {},\n            },\n        ];\n    }\n\n    function getSteps() {\n        return steps;\n    }\n\n    // this is the method decorator\n    // when the method is called, the generated steps are added\n    // to steps\n    const methodProxyHandler = {\n        apply(target, thisArg, args) {\n            const res = target.call(thisArg, ...args);\n            if (config.isDebug()) {\n                // This step is added before the real steps.\n                // Very useful when debugging because we know which\n                // method call failed and what were the parameters.\n                const constructor = thisArg.constructor.name.split(' ')[1];\n                const methodName = target.name.split(' ')[1];\n                const argList = args\n                    .map((a) => (typeof a === 'string' ? `'${a}'` : `${a}`))\n                    .join(', ');\n                steps.push({\n                    content: `DOING \"${constructor}.${methodName}(${argList})\"`,\n                    trigger: '.pos',\n                    run: () => {},\n                });\n            }\n            steps.push(...res);\n            return res;\n        },\n    };\n\n    // we proxy get of the method to decorate the method call\n    const proxyHandler = {\n        get(target, key) {\n            const method = target[key];\n            if (!method) {\n                throw new Error(`Tour method '${key}' is not available.`);\n            }\n            return new Proxy(method.bind(target), methodProxyHandler);\n        },\n    };\n\n    /**\n     * Creates an object with `do`, `check` and `exec` properties which are instances of\n     * the given `Do`, `Check` and `Execute` classes, respectively. Calling methods\n     * automatically adds the returned steps to the steps created by `startSteps`.\n     *\n     * There are however underscored version (_do, _check, _exec).\n     * Calling methods thru the underscored version does not automatically\n     * add the returned steps to the current steps array. Useful when composing\n     * steps from other methods.\n     *\n     * @param {String} name\n     * @param {Function} Do class containing methods which return array of tour steps\n     * @param {Function} Check similar to Do class but the steps are mainly for checking\n     * @param {Function} Execute class containing methods which return array of tour steps\n     *                   but has access to methods of Do and Check classes via .do and .check,\n     *                   respectively. Here, we define methods that return tour steps based\n     *                   on the combination of steps from Do and Check.\n     */\n    function createTourMethods(name, Do, Check = class {}, Execute = class {}) {\n        Object.defineProperty(Do, 'name', { value: `${name}.do` });\n        Object.defineProperty(Check, 'name', { value: `${name}.check` });\n        Object.defineProperty(Execute, 'name', {\n            value: `${name}.exec`,\n        });\n        const methods = { do: new Do(), check: new Check(), exec: new Execute() };\n        // Allow Execute to have access to methods defined in Do and Check\n        // via do and exec, respectively.\n        methods.exec._do = methods.do;\n        methods.exec._check = methods.check;\n        return {\n            Do,\n            Check,\n            Execute,\n            [name]: {\n                do: new Proxy(methods.do, proxyHandler),\n                check: new Proxy(methods.check, proxyHandler),\n                exec: new Proxy(methods.exec, proxyHandler),\n                _do: methods.do,\n                _check: methods.check,\n                _exec: methods.exec,\n            },\n        };\n    }\n\n    return { startSteps, getSteps, createTourMethods };\n});\n", "/* global posmodel */\nodoo.define('point_of_sale.tour.pricelist', function (require) {\n    \"use strict\";\n\n    var Tour = require('web_tour.tour');\n    var rpc = require('web.rpc');\n    var utils = require('web.utils');\n    var round_di = utils.round_decimals;\n\n    function assert (condition, message) {\n        if (! condition) {\n            throw message || \"Assertion failed\";\n        }\n    }\n\n    function _build_pricelist_context (pricelist, quantity, date) {\n        return {\n            pricelist: pricelist.id,\n            quantity: quantity,\n        };\n    }\n\n    function compare_backend_frontend (product, pricelist_name, quantity) {\n        return function () {\n            var pricelist = _.findWhere(posmodel.pricelists, {name: pricelist_name});\n            var frontend_price = product.get_price(pricelist, quantity);\n            // ORM applies digits= on non-stored computed field when\n            // reading. It does not however truncate like it does when\n            // storing the field.\n            frontend_price = round_di(frontend_price, posmodel.dp['Product Price']);\n\n            var context = _build_pricelist_context(pricelist, quantity);\n            return rpc.query({model: 'product.product', method: 'read', args: [[product.id], ['price']], context: context})\n                .then(function (backend_result) {\n                    var debug_info = _.extend(context, {\n                        product: product.id,\n                        product_display_name: product.display_name,\n                        pricelist_name: pricelist.name,\n                    });\n                    var backend_price = backend_result[0].price;\n                    assert(frontend_price === backend_price,\n                           JSON.stringify(debug_info) + ' DOESN\\'T MATCH -> ' + backend_price + ' (backend) != ' + frontend_price + ' (frontend)');\n                    return Promise.resolve();\n                });\n        };\n    }\n\n    // The global posmodel is only present when the posmodel is instanciated\n    // So, wait for everythiong to be loaded\n    var steps = [{ // Leave category displayed by default\n        content: 'waiting for loading to finish',\n        extra_trigger: 'body .pos:not(:has(.loader))', // Pos has finished loading\n        trigger: '.o_loading_indicator:not(.o_loading)', // WebClient has finished Loading\n        run: function () {\n            var product_wall_shelf = posmodel.db.search_product_in_category(0, 'Wall Shelf Unit')[0];\n            var product_small_shelf = posmodel.db.search_product_in_category(0, 'Small Shelf')[0];\n            var product_magnetic_board = posmodel.db.search_product_in_category(0, 'Magnetic Board')[0];\n            var product_monitor_stand = posmodel.db.search_product_in_category(0, 'Monitor Stand')[0];\n            var product_desk_pad = posmodel.db.search_product_in_category(0, 'Desk Pad')[0];\n            var product_letter_tray = posmodel.db.search_product_in_category(0, 'Letter Tray')[0];\n            var product_whiteboard = posmodel.db.search_product_in_category(0, 'Whiteboard')[0];\n\n            compare_backend_frontend(product_letter_tray, 'Public Pricelist', 0, undefined)()\n                .then(compare_backend_frontend(product_letter_tray, 'Public Pricelist', 1, undefined))\n                .then(compare_backend_frontend(product_letter_tray, 'Fixed', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'Fixed', 1, undefined))\n                .then(compare_backend_frontend(product_small_shelf, 'Fixed', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'Percentage', 1, undefined))\n                .then(compare_backend_frontend(product_small_shelf, 'Percentage', 1, undefined))\n                .then(compare_backend_frontend(product_magnetic_board, 'Percentage', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'Formula', 1, undefined))\n                .then(compare_backend_frontend(product_small_shelf, 'Formula', 1, undefined))\n                .then(compare_backend_frontend(product_magnetic_board, 'Formula', 1, undefined))\n                .then(compare_backend_frontend(product_monitor_stand, 'Formula', 1, undefined))\n                .then(compare_backend_frontend(product_desk_pad, 'Formula', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'min_quantity ordering', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'min_quantity ordering', 2, undefined))\n                .then(compare_backend_frontend(product_letter_tray, 'Category vs no category', 1, undefined))\n                .then(compare_backend_frontend(product_letter_tray, 'Category', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'Product template', 1, undefined))\n                .then(compare_backend_frontend(product_wall_shelf, 'Dates', 1, undefined))\n                .then(compare_backend_frontend(product_small_shelf, 'Pricelist base rounding', 1, undefined))\n                .then(compare_backend_frontend(product_whiteboard, 'Public Pricelist', 1, undefined))\n                .then(function () {\n                    $('.pos').addClass('done-testing');\n                });\n        },\n    }, {\n        trigger: '.opening-cash-control .button:contains(\"Open session\")',\n    }];\n\n    steps = steps.concat([{\n        content: \"wait for unit tests to finish\",\n        trigger: \".pos.done-testing\",\n        run: function () {}, // it's a check\n    }, {\n        content: \"click category switch\",\n        trigger: \".breadcrumb-home\",\n        run: 'click',\n    }, {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"verify default pricelist is set\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    }, {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('Fixed')\",\n    }, {\n        content: \"open customer list\",\n        trigger: \"button.set-customer\",\n    }, {\n        content: \"select Deco Addict\",\n        trigger: \".client-line:contains('Deco Addict')\",\n    }, {\n        content: \"confirm selection\",\n        trigger: \".clientlist-screen .next\",\n    }, {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"verify pricelist changed\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    }, {\n        content: \"cancel pricelist dialog\",\n        trigger: \".button.cancel:visible\",\n    }, {\n        content: \"open customer list\",\n        trigger: \"button.set-customer\",\n    }, {\n        content: \"select Lumber Inc\",\n        trigger: \".client-line:contains('Lumber Inc')\",\n    },  {\n        content: \"confirm selection\",\n        trigger: \".clientlist-screen .next\",\n    }, {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"verify pricelist remained public pricelist ('Not loaded' is not available)\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    }, {\n        content: \"cancel pricelist dialog\",\n        trigger: \".button.cancel:visible\",\n    },  {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('min_quantity ordering')\",\n    }, {\n        content: \"order 1 kg shelf\",\n        trigger: \".product:contains('Wall Shelf')\",\n    }, {\n        content: \"change qty to 2 kg\",\n        trigger: \".numpad button.input-button:visible:contains('2')\",\n    }, {\n        content: \"qty of Wall Shelf line should be 2\",\n        trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf')\",\n        extra_trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf') ~ .info-list .info em:contains('2.0')\",\n        run: function() {},\n    }, {\n        content: \"verify that unit price of shelf changed to $1\",\n        trigger: \".total > .value:contains('$ 2.00')\",\n        run: function() {},\n    }, {\n        content: \"order different shelf\",\n        trigger: \".product:contains('Small Shelf')\",\n    }, {\n        content: \"Small Shelf line should be selected with quantity 1\",\n        trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf')\",\n        extra_trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf') ~ .info-list .info em:contains('1.0')\",\n        run: function() {}\n    }, {\n        content: \"change to price mode\",\n        trigger: \".numpad button:contains('Price')\",\n    }, {\n        content: \"make sure price mode is activated\",\n        trigger: \".numpad button.selected-mode:contains('Price')\",\n        run: function() {},\n    }, {\n        content: \"manually override the unit price of these shelf to $5\",\n        trigger: \".numpad button.input-button:visible:contains('5')\",\n    }, {\n        content: \"Small Shelf line should be selected with unit price of 5\",\n        trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf')\",\n        extra_trigger: \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf') ~ .price:contains('5.0')\",\n    }, {\n        content: \"change back to qty mode\",\n        trigger: \".numpad button:contains('Qty')\",\n    }, {\n        content: \"make sure qty mode is activated\",\n        trigger: \".numpad button.selected-mode:contains('Qty')\",\n        run: function() {},\n    }, {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"select public pricelist\",\n        trigger: \".selection-item:contains('Public Pricelist')\",\n    }, {\n        content: \"verify that the boni shelf have been recomputed and the shelf have not (their price was manually overridden)\",\n        trigger: \".total > .value:contains('$ 8.96')\",\n    }, {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    }, {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('min_quantity ordering')\",\n    }, {\n        content: \"close the Point of Sale frontend\",\n        trigger: \".header-button\",\n    }, {\n        content: \"confirm closing the frontend\",\n        trigger: \".header-button\",\n        run: function() {}, //it's a check,\n    }]);\n\n    Tour.register('pos_pricelist', { test: true, url: '/pos/ui' }, steps);\n});\n\nodoo.define('point_of_sale.tour.acceptance', function (require) {\n    \"use strict\";\n\n    var Tour = require(\"web_tour.tour\");\n\n    function add_product_to_order(product_name) {\n        return [{\n            content: 'buy ' + product_name,\n            trigger: '.product-list .product-name:contains(\"' + product_name + '\")',\n        }, {\n            content: 'the ' + product_name + ' have been added to the order',\n            trigger: '.order .product-name:contains(\"' + product_name + '\")',\n            run: function () {},\n        }];\n    }\n\n    function set_fiscal_position_on_order(fp_name) {\n        return [{\n            content: 'set fiscal position',\n            trigger: '.control-button.o_fiscal_position_button',\n        }, {\n            content: 'choose fiscal position ' + fp_name + ' to add to the order',\n            trigger: '.popups .popup .selection .selection-item:contains(\"' + fp_name + '\")',\n        }, {\n            content: 'the fiscal position ' + fp_name + ' has been set to the order',\n            trigger: '.control-button.o_fiscal_position_button:contains(\"' + fp_name + '\")',\n            run: function () {},\n        }];\n    }\n\n    function generate_keypad_steps(amount_str, keypad_selector) {\n        var i, steps = [], current_char;\n        for (i = 0; i < amount_str.length; ++i) {\n            current_char = amount_str[i];\n            steps.push({\n                content: 'press ' + current_char + ' on payment keypad',\n                trigger: keypad_selector + ' .input-button:contains(\"' + current_char + '\"):visible'\n            });\n        }\n        return steps;\n    }\n\n    function press_payment_numpad(val) {\n        return [{\n            content: `press ${val} on payment screen numpad`,\n            trigger: `.payment-numpad .input-button:contains(\"${val}\"):visible`,\n        }]\n    }\n\n    function press_product_numpad(val) {\n        return [{\n            content: `press ${val} on product screen numpad`,\n            trigger: `.numpad .input-button:contains(\"${val}\"):visible`,\n        }]\n    }\n\n    function selected_payment_has(name, val) {\n        return [{\n            content: `selected payment is ${name} and has ${val}`,\n            trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${name}\")`,\n            extra_trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${name}\") ~ .payment-amount:contains(\"${val}\")`,\n            run: function () {},\n        }]\n    }\n\n    function selected_orderline_has({ product, price = null, quantity = null }) {\n        const result = [];\n        if (price !== null) {\n            result.push({\n                content: `Selected line has product '${product}' and price '${price}'`,\n                trigger: `.order-container .orderlines .orderline.selected .product-name:contains(\"${product}\") ~ span.price:contains(\"${price}\")`,\n                run: function () {},\n            });\n        }\n        if (quantity !== null) {\n            result.push({\n                content: `Selected line has product '${product}' and quantity '${quantity}'`,\n                trigger: `.order-container .orderlines .orderline.selected .product-name:contains('${product}') ~ .info-list .info em:contains('${quantity}')`,\n                run: function () {},\n            });\n        }\n        return result;\n    }\n\n    function verify_order_total(total_str) {\n        return [{\n            content: 'order total contains ' + total_str,\n            trigger: '.order .total .value:contains(\"' + total_str + '\")',\n            run: function () {}, // it's a check\n        }];\n    }\n\n    function goto_payment_screen_and_select_payment_method() {\n        return [{\n            content: \"go to payment screen\",\n            trigger: '.button.pay',\n        }, {\n            content: \"pay with cash\",\n            trigger: '.paymentmethod:contains(\"Cash\")',\n        }];\n    }\n\n    function finish_order() {\n        return [{\n            content: \"validate the order\",\n            trigger: '.payment-screen .button.next.highlight:visible',\n        }, {\n            content: \"verify that the order has been successfully sent to the backend\",\n            trigger: \".js_connected:visible\",\n            run: function () {},\n        }, {\n            content: \"click Next Order\",\n            trigger: '.receipt-screen .button.next.highlight:visible',\n        }, {\n            content: \"check if we left the receipt screen\",\n            trigger: '.pos-content .screen:not(:has(.receipt-screen))',\n            run: function () {},\n        }];\n    }\n\n    var steps = [{\n            content: 'waiting for loading to finish',\n            trigger: 'body:not(:has(.loader))',\n            run: function () {},\n        }, { // Leave category displayed by default\n            content: \"click category switch\",\n            trigger: \".breadcrumb-home\",\n        }];\n\n    steps = steps.concat(add_product_to_order('Desk Organizer'));\n    steps = steps.concat(verify_order_total('5.10'));\n\n    steps = steps.concat(add_product_to_order('Desk Organizer'));\n    steps = steps.concat(verify_order_total('10.20'));\n    steps = steps.concat(goto_payment_screen_and_select_payment_method());\n\n    /*  add payment line of only 5.20\n        status:\n            order-total := 10.20\n            total-payment := 11.70\n        expect:\n            remaining := 0.00\n            change := 1.50\n    */\n    steps = steps.concat(press_payment_numpad('5'));\n    steps = steps.concat(selected_payment_has('Cash', '5.0'));\n    steps = steps.concat([{\n        content: \"verify remaining\",\n        trigger: '.payment-status-remaining .amount:contains(\"5.20\")',\n        run: function () {},\n    }, {\n        content: \"verify change\",\n        trigger: '.payment-status-change .amount:contains(\"0.00\")',\n        run: function () {},\n    }]);\n\n    /*  make additional payment line of 6.50\n        status:\n            order-total := 10.20\n            total-payment := 11.70\n        expect:\n            remaining := 0.00\n            change := 1.50\n    */\n    steps = steps.concat([{\n        content: \"pay with cash\",\n        trigger: '.paymentmethod:contains(\"Cash\")',\n    }]);\n    steps = steps.concat(selected_payment_has('Cash', '5.2'));\n    steps = steps.concat(press_payment_numpad('6'))\n    steps = steps.concat(selected_payment_has('Cash', '6.0'));\n    steps = steps.concat([{\n        content: \"verify remaining\",\n        trigger: '.payment-status-remaining .amount:contains(\"0.00\")',\n        run: function () {},\n    }, {\n        content: \"verify change\",\n        trigger: '.payment-status-change .amount:contains(\"0.80\")',\n        run: function () {},\n    }]);\n\n    steps = steps.concat(finish_order());\n\n    // test opw-672118 orderline subtotal rounding\n    steps = steps.concat(add_product_to_order('Desk Organizer'));\n    steps = steps.concat(selected_orderline_has({product: 'Desk Organizer', quantity: '1.0'}));\n    steps = steps.concat(press_product_numpad('.'))\n    steps = steps.concat(selected_orderline_has({product: 'Desk Organizer', quantity: '0.0', price: '0.0'}));\n    steps = steps.concat(press_product_numpad('9'))\n    steps = steps.concat(selected_orderline_has({product: 'Desk Organizer', quantity: '0.9', price: '4.59'}));\n    steps = steps.concat(press_product_numpad('9'))\n    steps = steps.concat(selected_orderline_has({product: 'Desk Organizer', quantity: '0.99', price: '5.05'}));\n    steps = steps.concat(goto_payment_screen_and_select_payment_method());\n    steps = steps.concat(selected_payment_has('Cash', '5.05'));\n    steps = steps.concat(finish_order());\n\n    // Test fiscal position one2many map (align with backend)\n    steps = steps.concat(add_product_to_order('Letter Tray'));\n    steps = steps.concat(selected_orderline_has({product: 'Letter Tray', quantity: '1.0'}));\n    steps = steps.concat(verify_order_total('5.28'));\n    steps = steps.concat(set_fiscal_position_on_order('FP-POS-2M'));\n    steps = steps.concat(verify_order_total('5.52'));\n\n    steps = steps.concat([{\n        content: \"open closing the Point of Sale frontend popup\",\n        trigger: \".header-button\",\n    }, {\n        content: \"close the Point of Sale frontend\",\n        trigger: \".close-pos-popup .button:contains('Continue Selling')\",\n        run: function() {}, //it's a check,\n    }]);\n\n    Tour.register('pos_basic_order', { test: true, url: '/pos/ui' }, steps);\n\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\ntour.register('project_sharing_tour', {\n    test: true,\n    url: '/web',\n}, [...tour.stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project App.'), {\n    // an invisible element cannot be used as a trigger so this small hack is mandatory for the next step\n    trigger: '.o_kanban_record:contains(\"Project Sharing\")',\n    run: function () {\n        this.$anchor.find('.o_dropdown_kanban').css('visibility', 'visible');\n    },\n}, {\n    trigger: '.oe_kanban_global_click :contains(\"Project Sharing\") .o_dropdown_kanban',\n    content: 'Open the project dropdown.'\n}, {\n    trigger: '.o_kanban_record:contains(\"Project Sharing\") .dropdown-menu a:contains(\"Share\")',\n    content: 'Start editing the project.',\n}, {\n    trigger: 'div.o_field_radio[name=\"access_mode\"] > div.o_radio_item > input[data-value=\"edit\"]',\n    content: 'Select \"Edit\" as Access mode in the \"Share Project\" wizard.',\n}, {\n    trigger: '.o_field_many2one[name=\"partner_ids\"]',\n    content: 'Select the user portal as collaborator to the \"Project Sharing\" project.',\n    run: function (actions) {\n        actions.text('Georges', this.$anchor.find('input'));\n    },\n}, {\n    trigger: '.ui-autocomplete a:contains(\"Georges\")',\n    in_modal: false,\n}, {\n    trigger: 'footer > button[name=\"action_send_mail\"]',\n    content: 'Confirm the project sharing with this portal user.',\n}, {\n    trigger: '.o_web_client',\n    content: 'Go to project portal view to select the \"Project Sharing\" project',\n    run: function () {\n        window.location.href = window.location.origin + '/my/projects';\n    },\n}, {\n    trigger: 'table > tbody > tr a:has(span:contains(Project Sharing))',\n    content: 'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n}, {\n    trigger: '.o_project_sharing',\n    content: 'Wait the project sharing feature be loaded',\n    run: function () {},\n}, {\n    trigger: 'button.o-kanban-button-new',\n    content: 'Click \"Create\" button',\n    run: 'click',\n}, {\n    trigger: '.o_kanban_quick_create .o_field_widget[name=\"name\"]',\n    content: 'Create Task',\n    run: 'text Test Create Task',\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_edit',\n    content: 'Go to the form view of this new task',\n}, {\n    trigger: 'div.o_statusbar_status[name=\"stage_id\"] button[aria-checked=\"false\"]:contains(Done)',\n    content: 'Change the stage of the task.',\n}, {\n    trigger: '.o_portal_chatter_composer_input .o_portal_chatter_composer_body textarea[name=\"message\"]',\n    content: 'Write a message in the chatter of the task',\n    run: 'text I create a new task for testing purpose.',\n}, {\n    trigger: '.o_portal_chatter_composer_input .o_portal_chatter_composer_body button[data-action=\"/mail/chatter_post\"]',\n    content: 'Send the message',\n}, {\n    trigger: 'ol.breadcrumb > li.o_back_button > a:contains(Project Sharing)',\n    content: 'Go back to the kanban view',\n}, {\n    trigger: 'button.o_switch_view.o_list',\n    content: 'Go to the list view',\n    run: 'click',\n}]);\n\ntour.register('portal_project_sharing_tour', {\n    test: true,\n    url: '/my/projects',\n}, [{\n    trigger: 'table > tbody > tr a:has(span:contains(Project Sharing))',\n    content: 'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n}, {\n    trigger: '.o_project_sharing',\n    content: 'Wait the project sharing feature be loaded',\n    run: function () {},\n}, {\n    trigger: 'button.o-kanban-button-new',\n    content: 'Click \"Create\" button',\n    run: 'click',\n}, {\n    trigger: '.o_kanban_quick_create .o_field_widget[name=\"name\"]',\n    content: 'Create Task',\n    run: 'text Test Create Task',\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_edit',\n    content: 'Go to the form view of this new task',\n}, {\n    trigger: 'div.o_statusbar_status[name=\"stage_id\"] button[aria-checked=\"false\"]:contains(Done)',\n    content: 'Change the stage of the task.',\n}, {\n    trigger: '.o_portal_chatter_composer_input .o_portal_chatter_composer_body textarea[name=\"message\"]',\n    content: 'Write a message in the chatter of the task',\n    run: 'text I create a new task for testing purpose.',\n}, {\n    trigger: '.o_portal_chatter_composer_input .o_portal_chatter_composer_body button[data-action=\"/mail/chatter_post\"]',\n    content: 'Send the message',\n}, {\n    trigger: 'ol.breadcrumb > li.o_back_button > a:contains(Project Sharing)',\n    content: 'Go back to the kanban view',\n}, {\n    trigger: 'button.o_switch_view.o_list',\n    content: 'Go to the list view',\n    run: 'click',\n}]);\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\nfunction openProjectUpdateAndReturnToTasks(view, viewClass) {\n    return [{\n            trigger: '.o_project_updates_breadcrumb',\n            content: 'Open Project Update from view : ' + view,\n            extra_trigger: \".\" + viewClass,\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"Create a new update from project task view : \" + view,\n            extra_trigger: '.o_pupdate_kanban',\n        }, {\n            trigger: \"button.o_form_button_cancel\",\n            content: \"Discard project update from project task view : \" + view,\n        }, {\n            trigger: \".o_switch_view.o_list\",\n            content: \"Go to list of project update from view \" + view,\n        }, {\n            trigger: '.o_back_button',\n            content: 'Go back to the task view : ' + view,\n            extra_trigger: '.o_list_view',\n        },\n    ];\n}\n\ntour.register('project_update_tour', {\n    test: true,\n    url: '/web',\n},\n[tour.stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_project_kanban',\n    width: 200,\n}, {\n    trigger: 'input.o_project_name',\n    run: 'text New Project'\n}, {\n    trigger: '.o_open_tasks',\n    run: function (actions) {\n        actions.auto('.modal:visible .btn.btn-primary');\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n    run: function (actions) {\n        actions.text(\"New\", this.$anchor.find(\"input\"));\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    auto: true,\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n    extra_trigger: '.o_kanban_group',\n    run: function (actions) {\n        actions.text(\"Done\", this.$anchor.find(\"input\"));\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    auto: true,\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_kanban_group:eq(0)'\n}, {\n    trigger: '.o_kanban_quick_create input.o_field_char[name=name]',\n    extra_trigger: '.o_kanban_project_tasks',\n    run: 'text New task'\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    extra_trigger: '.o_kanban_project_tasks'\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_kanban_group:eq(0)'\n}, {\n    trigger: '.o_kanban_quick_create input.o_field_char[name=name]',\n    extra_trigger: '.o_kanban_project_tasks',\n    run: 'text Second task'\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    extra_trigger: '.o_kanban_project_tasks'\n}, {\n    trigger: '.o_kanban_header:eq(1)',\n    run: function () {\n        $('.o_kanban_config.dropdown .dropdown-toggle').eq(1).click();\n    }\n}, {\n    trigger: \".dropdown-item.o_column_edit\",\n}, {\n    trigger: \".o_field_widget[name=fold] input\",\n}, {\n    trigger: \".modal-footer button\",\n}, {\n    trigger: \".o_kanban_record .oe_kanban_content\",\n    extra_trigger: '.o_kanban_project_tasks',\n    run: \"drag_and_drop .o_kanban_group:eq(1) \",\n}, {\n    trigger: \".o_project_updates_breadcrumb\",\n    content: 'Open Updates'\n}, {\n    trigger: \".o_add_milestone a\",\n    content: \"Add a first milestone\"\n}, {\n    trigger: \"input.o_field_widget[name=name]\",\n    run: 'text New milestone'\n}, {\n    trigger: \"input.datetimepicker-input[name=deadline]\",\n    run: 'text 12/12/2099'\n}, {\n    trigger: \".modal-footer button\"\n}, {\n    trigger: \".o_add_milestone a\",\n}, {\n    trigger: \"input.o_field_widget[name=name]\",\n    run: 'text Second milestone'\n}, {\n    trigger: \"input.datetimepicker-input[name=deadline]\",\n    run: 'text 12/12/2022'\n}, {\n    trigger: \".modal-footer button\"\n}, {\n    trigger: \".o_open_milestone:eq(1) .o_milestone_detail span:eq(0)\",\n    extra_trigger: \".o_add_milestone a\",\n    run: function () {\n        setTimeout(() => {\n            this.$anchor.click();\n        }, 500);\n    },\n}, {\n    trigger: \"input.datetimepicker-input[name=deadline]\",\n    run: 'text 12/12/2100'\n}, {\n    trigger: \".modal-footer button\"\n}, {\n    trigger: \".o-kanban-button-new\",\n    content: \"Create a new update\"\n}, {\n    trigger: \"input.o_field_widget[name=name]\",\n    run: 'text New update'\n}, {\n    trigger: \".o_form_button_save\"\n}, {\n    trigger: \".o_field_widget[name=description] h1:contains('Activities')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name=description] h3:contains('Milestones')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name=description] div[name='milestone'] ul li:contains('(12/12/2099 => 12/12/2100)')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name=description] div[name='milestone'] ul li span:contains('(due 12/12/2022)')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name=description] div[name='milestone'] ul li span:contains('(due 12/12/2100)')\",\n    run: function () {},\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n}, {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Project Updates',\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    extra_trigger: '.o_list_view',\n}, {\n    trigger: '.o_switch_view.o_graph',\n    content: 'Open Graph View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Graph\", \"o_graph_view\"), {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Tasks',\n    extra_trigger: '.o_graph_view',\n}, ...openProjectUpdateAndReturnToTasks(\"List\", \"o_list_view\"), {\n    trigger: '.o_switch_view.o_pivot',\n    content: 'Open Pivot View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Pivot\", \"o_pivot_view\"), {\n    trigger: '.o_switch_view.o_calendar',\n    content: 'Open Calendar View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Calendar\", \"o_calendar_view\"), {\n    trigger: '.o_switch_view.o_activity',\n    content: 'Open Activity View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Activity\", \"o_activity_view\"),\n]);\n", "odoo.define('auth_totp.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst ajax = require('web.ajax');\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            $('body').addClass('wait');\n            window.location = '/web';\n        }\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n        run() {}\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .oe_topbar_name',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\ntour.register('totp_tour_setup', {\n    test: true,\n    url: '/web'\n}, [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text demo', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"When requested to do so\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run(helpers) {\n        const $secret = this.$anchor.closest('div').find('span[name=secret]');\n        const $copyBtn = $secret.find('button');\n        $copyBtn.remove();\n        const secret = $secret.text();\n        ajax.jsonRpc('/totphook', 'call', {\n            secret\n        }).then((token) => {\n            helpers._text(helpers._get_action_values('input[name=code]'), token);\n            helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n            $('body').addClass('got-token')\n        });\n    }\n}, {\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n    run() {}\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Check that the button has changed\",\n    trigger: 'button[name=action_totp_disable]',\n    run: () => {}\n}]);\n\ntour.register('totp_login_enabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run(helpers) {\n        ajax.jsonRpc('/totphook', 'call', {}).then((token) => {\n            helpers._text(helpers._get_action_values(), token);\n            // FIXME: is there a way to put the button as its own step trigger without\n            //        the tour straight blowing through and not waiting for this?\n            helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n        });\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: () => {}\n}]);\n\ntour.register('totp_login_device', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run(helpers) {\n        ajax.jsonRpc('/totphook', 'call', {}).then((token) => {\n            helpers._text(helpers._get_action_values(), token);\n            // FIXME: is there a way to put the button as its own step trigger without\n            //        the tour straight blowing through and not waiting for this?\n            helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n        });\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)'\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: () => {}\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_disable]',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text demo', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Check that the button has changed\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n    run: () => {}\n}]);\n\ntour.register('totp_login_disabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n]);\n\nconst columns = {};\ntour.register('totp_admin_disables', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n    run: () => {}\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run: function (helpers) {\n        // funny story: the users view we're trying to reach, sometimes we're\n        // already there, but if we re-click the next step executes before the\n        // action has the time to re-load, the one after that doesn't, and our\n        // selection get discarded by the action reloading, so here try to\n        // see if we're already on the users action through the breadcrumb and\n        // just close the menu if so\n        const $crumb = $('.breadcrumb');\n        if ($crumb.text().indexOf('Users') === -1) {\n            // on general settings page, click menu\n            helpers.click();\n        } else {\n            // else close menu\n            helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n        }\n    }\n}, {\n    content: \"Find Demo User\",\n    trigger: 'td.o_data_cell:contains(\"demo\")',\n    run: function (helpers) {\n        const $titles = this.$anchor.closest('table').find('tr:first th');\n        for (let i=0; i<$titles.length; ++i) {\n            columns[$titles[i].getAttribute('data-name')] = i;\n        }\n        const $row = this.$anchor.closest('tr');\n        const sel = $row.find('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")'\n}, {\n    content: \"Select totp remover\",\n    trigger: 'a.dropdown-item:contains(Disable two-factor authentication)'\n}, { // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode\",\ntrigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text admin', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that demo user has been de-totp'd\",\n    trigger: \"button[name=action_totp_enable_wizard]\",\n}])\n});\n", "odoo.define('auth_totp_mail.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\n\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .oe_topbar_name',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n        run: () => {}\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const $crumb = $('.breadcrumb');\n            if ($crumb.text().indexOf('Users') === -1) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n            }\n        }\n    }];\n}\n\ntour.register('totp_admin_self_invite', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that user cannot invite himself to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        var $inviteBtn = $('button:contains(Invite to use 2FA)');\n        if ($inviteBtn.hasClass('o_invisible_modifier')) {\n            $('body').addClass('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\"\n}]);\n\ntour.register('totp_admin_invite', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that demo user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]);\n\n});", "odoo.define('auth_totp_portal.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst ajax = require('web.ajax');\n\ntour.register('totportal_tour_setup', {\n    test: true,\n    url: '/my/security'\n}, [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run: async function(helpers) {\n        const secret = this.$anchor.closest('div').find('span[name=\"secret\"]').text();\n        const token = await ajax.jsonRpc('/totphook', 'call', {\n            secret\n        });\n        helpers._text(helpers._get_action_values('input[name=code]'), token);\n        helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n    }\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n    run: () => {}\n}]);\n\ntour.register('totportal_login_enabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await ajax.jsonRpc('/totphook', 'call', {});\n        helpers._text(helpers._get_action_values(), token);\n        // FIXME: is there a way to put the button as its own step trigger without\n        //        the tour straight blowing through and not waiting for this?\n        helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n    run: () => {}\n}]);\n\ntour.register('totportal_login_disabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}]);\n});\n"], "file": "/web/assets/193-ff21b3c/web.assets_tests.js", "sourceRoot": "../../../"}